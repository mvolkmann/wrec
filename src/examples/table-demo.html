<!doctype html>
<html lang="en">
  <head>
    <title>Table Demo</title>
    <style>
      body {
        font-family: sans-serif;
      }
    </style>
    <script src="table-manual.js" type="module"></script>
    <script src="sortable-table.js" type="module"></script>
    <script type="module">
      const propNames = ['name', 'age', 'occupation'];
      const headings = ['Name', 'Age', 'Occupation'];
      const data = [
        {name: 'Alice', age: 30, occupation: 'Engineer'},
        {name: 'Bob', age: 25, occupation: 'Designer'},
        {name: 'Charlie', age: 35, occupation: 'Teacher'}
      ];

      const tableManual = document.querySelector('table-manual');
      // The property "properties" must be set before the property "headings"
      // because changing "headings" triggers the "buildTh" method
      // which uses properties to determine the data to sort.
      tableManual.propNames = propNames;
      tableManual.headings = headings;
      tableManual.data = data;

      const sortableTable = document.querySelector('sortable-table');
      sortableTable.data = data;

      const button = document.querySelector('button');
      button.addEventListener('click', () => {
        sortableTable.batchSet({headings: 'Age,Name', properties: 'age,name'});
        button.remove();
      });
    </script>
  </head>
  <body>
    <table-manual></table-manual>
    <hr />
    <sortable-table
      headings="Name,Age,Occupation"
      properties="name,age,occupation"
    ></sortable-table>
    <div><button>Batch Set</button></div>
  </body>
</html>
