<!DOCTYPE html>
<html lang="en">
  <head>
    <title>wrec State Demo</title>
    <script src="./component-one.js" type="module"></script>
    <script src="./component-two.js" type="module"></script>
    <script src="../labeled-input.js" type="module"></script>
    <script src="../radio-group.js" type="module"></script>
    <script type="module">
      import {State} from '../../state.js';
      const state = new State('vault', {
        color: 'red',
        //name: 'World',
        team: {leader: {name: 'World'}},
        notUsed: 'not used'
      });

      window.onload = () => {
        const c1 = document.querySelector('component-one');
        // The keys are state property paths
        // and the values are component property names.
        //c1.useState(state, {color: 'color', name: 'name'});
        c1.useState(state, {color: 'color', 'team.leader.name': 'name'});

        const c2 = document.querySelector('component-two');
        // When the mapping from state properties to component properties
        // is not specified, they are assumed to be the same.
        //c2.useState(state);
        c2.useState(state, {color: 'color', 'team.leader.name': 'name'});

        const removeBtn = document.getElementById('remove-btn');
        removeBtn.addEventListener('click', () => {
          c2.remove();
        });
      };
    </script>
  </head>
  <body>
    <component-one></component-one>
    <hr />
    <component-two color="green"></component-two>
    <hr />
    <button id="remove-btn">Remove component-two</button>
  </body>
</html>
